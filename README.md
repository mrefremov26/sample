Выжимка кода. 

## Скрипты

##### Устанавка зависимостей
```shell script
yarn install
```
##### Production сборка
```shell script
yarn build
```
Есть поддержка brotli сжатия.

##### Запуск сервера для разработки
```shell script
yarn dev
```
##### Запуск линтера
```shell script
yarn lint
```
##### Снепшот тестирование UI компонентов
```shell script
yarn test:ui
```
##### e2e тестирование
```shell script
yarn test:e2e
```
##### Полное тестирование
```shell script
yarn test
```
##### Запуск анализатора размера бандла (production сборка)
```shell script
yarn analyze-bundle-size
```
##### Запуск storybook
```shell script
yarn storybook
```
##### Сбилдить storybook
```shell script
yarn build-storybook
```
## Разработка

### О сборке
* Для роутинга используется **react-router-config**.
* Стилизация - **postCSS-modules**.
* Управление состоянием - **redux** & **redux-toolkit** & **redux-saga**.
* Тестирование - **jest**, **enzyme** **сypress**.

Компоненты создаются командами:
```shell script
hygen feature-component new
hygen page new
hygen modal new
hygen form new
hygen hoc new
hygen shared new
hygen template new
```

### Структура папок
* **components**:
    * Всё, что должно будет использоваться многократно, должно лежать в **shared**.
    Папка shared/Atoms содержит мелкие часто переиспользуемые компоненты - заголоваки и другие элементы текста
    * Все hoc's - в **hoc**.
    * Модальные окна - **modals**
    * **features** - папка для модулей.
    * Все страницы - в **pages**.
    * Все шаблоны страниц - в **templates**.
    * **hooks** - тут хуки.
* **store** - всё, что связано с хранилищем. Разбита на модули. В каждом модуле:
    * actions
    * reducer
    * sagas
    * selectors
* **constants** - енумы, словари и константы.
* **utils** - свалка для хелперов, мелких настроек и типов.
* **assets** - стили и картинки. В папке icons - **ТОЛЬКО SVG**. Работает плагин svgr.

#### Создание компонентов
* По возможности создавать компоненты только через **hygen**
* Допускается создание подпапок с другими компонентами в папках компонента
* Основной компонент директории экспортируется с помощью index.tsx
#### Работа с модулями
**Экспорт по-умолчанию под запретом!**

#### Добавление глобальных контекстов
За это отвечает функция из components/hoc/setup

#### Роутинг
Используется **react-router-config**

При указании путей использовать словари из constants/paths

#### Работа со стором
* redux-toolkit
* Все запросы через саги.
* По-отдельности не управляем состоянием loading в каждом редьюсере. Для этого есть отдельный store/loads/reducer.
Там же храним и обрабатываем ошибки.
* 
#### Работа с переменными окружения
Внутри приложения они подключаются через constants, и уже оттуда они используются, и там же проводится проверка
. Исключение - webpack

#### Работа с модулями
Обращаемся с каждой папкой в src как с отдельным модулем. Следствия из этого - обращаемся к ним 
только через одну входную точку, которая реализует какой-либо интерфейс. Если 
модуль предоставляет сложный функционал - описываем его работу в JSDoc

#### Работа с api
* axios настраивается в файле utils/axios
* Все эндпоинты в файле api/endpoints
* Все запросы в файле api/requests

#### Тестирование
* для cypress - никогда не привязываемся к текущему UI приложения.
